import{r as p,j as e,L as C}from"./index-_FWC9Saa.js";import{Q as b,u as _,S as i}from"./api-D8tYLqVJ.js";import{A as w,b as E,S as f,s as B}from"./selector-DE22V9zc.js";import{C as n,a as c,b as d,c as m,d as l,B as h}from"./badge-BGQA6l5w.js";import{c as o,B as v}from"./button-B83e1NL2.js";import{U}from"./user-Cnn5DItZ.js";const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F=o("circle-alert",S);const $=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R=o("circle-check-big",$);const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],I=o("circle-x",A);const L=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],M=o("mail",L);const P=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],k=o("shield",P);const D=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q=o("users",D),z=p.createContext(null),y={didCatch:!1,error:null};class T extends p.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=y}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(...a){const{error:r}=this.state;r!==null&&(this.props.onReset?.({args:a,reason:"imperative-api"}),this.setState(y))}componentDidCatch(a,r){this.props.onError?.(a,r)}componentDidUpdate(a,r){const{didCatch:t}=this.state,{resetKeys:x}=this.props;t&&r.error!==null&&H(a.resetKeys,x)&&(this.props.onReset?.({next:x,prev:a.resetKeys,reason:"keys"}),this.setState(y))}render(){const{children:a,fallbackRender:r,FallbackComponent:t,fallback:x}=this.props,{didCatch:N,error:u}=this.state;let j=a;if(N){const g={error:u,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")j=r(g);else if(t)j=p.createElement(t,g);else if(x!==void 0)j=x;else throw u}return p.createElement(z.Provider,{value:{didCatch:N,error:u,resetErrorBoundary:this.resetErrorBoundary}},j)}}function H(s=[],a=[]){return s.length!==a.length||s.some((r,t)=>!Object.is(r,a[t]))}function K(){const{data:s}=_(B()),a=()=>{if(s.name?.given_name&&s.name?.family_name)return`${s.name.given_name[0]}${s.name.family_name[0]}`.toUpperCase();if(s.display_name){const r=s.display_name.split(" ");return r.length>=2?`${r[0][0]}${r[r.length-1][0]}`.toUpperCase():s.display_name.substring(0,2).toUpperCase()}return s.user_name?s.user_name.substring(0,2).toUpperCase():"U"};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{className:"border-primary/20",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsx(w,{className:"h-24 w-24",children:e.jsx(E,{className:"text-2xl font-bold bg-primary/10",children:a()})}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.display_name||s.user_name||"User"}),s.active!==null&&e.jsx(h,{variant:s.active?"default":"secondary",className:"flex items-center gap-1",children:s.active?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-3 w-3"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-3 w-3"}),"Inactive"]})})]}),s.user_name&&e.jsxs("p",{className:"text-muted-foreground",children:["@",s.user_name]}),s.id&&e.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",s.id]})]})]})})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(m,{children:"Basic user details"})]}),e.jsxs(l,{className:"space-y-4",children:[s.name&&e.jsxs(e.Fragment,{children:[s.name.given_name&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"First Name"}),e.jsx("p",{className:"text-lg",children:s.name.given_name})]}),s.name.family_name&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Name"}),e.jsx("p",{className:"text-lg",children:s.name.family_name})]})]})]}),s.external_id&&e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"External ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.external_id})]})]})]})]}),e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Contact Information"]}),e.jsx(m,{children:"Email addresses"})]}),e.jsx(l,{className:"space-y-4",children:s.emails&&s.emails.length>0?s.emails.map((r,t)=>e.jsxs("div",{children:[t>0&&e.jsx(f,{className:"mb-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm break-all",children:r.value}),r.primary&&e.jsx(h,{variant:"secondary",className:"text-xs",children:"Primary"})]}),r.type&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Type: ",r.type]})]},t)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No email addresses available"})})]}),s.roles&&s.roles.length>0&&e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Roles"]}),e.jsxs(m,{children:["User roles and permissions (",s.roles.length,")"]})]}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.roles.map((r,t)=>e.jsx(h,{variant:"outline",children:r.value},t))})})]}),s.groups&&s.groups.length>0&&e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Groups"]}),e.jsxs(m,{children:["User group memberships (",s.groups.length,")"]})]}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.groups.map((r,t)=>e.jsx(h,{variant:"outline",children:r.display||r.value},t))})})]}),s.entitlements&&s.entitlements.length>0&&e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Entitlements"]}),e.jsxs(m,{children:["User entitlements (",s.entitlements.length,")"]})]}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.entitlements.map((r,t)=>e.jsx(h,{variant:"secondary",children:r.value},t))})})]})]})]})}function G(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{className:"border-primary/20",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsx(i,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2 text-center md:text-left",children:[e.jsx(i,{className:"h-8 w-48 mx-auto md:mx-0"}),e.jsx(i,{className:"h-4 w-32 mx-auto md:mx-0"}),e.jsx(i,{className:"h-3 w-64 mx-auto md:mx-0"})]})]})})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[1,2,3,4].map(s=>e.jsxs(n,{className:"border-primary/20",children:[e.jsxs(c,{children:[e.jsx(i,{className:"h-6 w-48"}),e.jsx(i,{className:"h-4 w-32"})]}),e.jsxs(l,{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-full"}),e.jsx(i,{className:"h-4 w-3/4"})]})]},s))})]})}function Q(){return e.jsx(b,{children:({reset:s})=>e.jsx(T,{onReset:s,fallbackRender:({resetErrorBoundary:a})=>e.jsxs(n,{className:"border-destructive/50",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(F,{className:"h-5 w-5"}),"Failed to Load Profile"]}),e.jsx(m,{children:"There was an error loading your profile information. Make sure the backend is running and you're authenticated."})]}),e.jsxs(l,{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",onClick:a,children:"Try Again"}),e.jsx(v,{variant:"outline",asChild:!0,children:e.jsx(C,{to:"/",children:"Go Home"})})]})]}),children:e.jsx(p.Suspense,{fallback:e.jsx(G,{}),children:e.jsx(K,{})})})})}const Z=()=>e.jsx(Q,{});export{Z as component};
